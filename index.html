<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Login Form</title>
    <link rel="stylesheet" href="assets/css/master.css">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.1/font/bootstrap-icons.css">
    <!-- <link rel="stylesheet" href="assets/css/bootstrap.min.css"> -->
</head>

<body>
    <div id="container" class="container">
        <!-- FORM SECTION -->
        <div class="row">
            <!-- SIGN UP -->
            <div class="col align-items-center flex-col sign-up">
                <div class="form-wrapper align-items-center">
                    <form onsubmit="mysignupForm(event)" action="reg.php" class="form sign-up" name="sign-up">
                        <div class="input-group">
                            <i class="bi bi-person"></i>
                            <input type="text" placeholder="Username" name="sign-up-username">
                            <label for="">*Username must be at least 3 characters</label>
                        </div>
                        <div class="input-group">
                            <i class='bx bx-mail-send'></i>
                            <i class="bi bi-envelope"></i>
                            <input type="email" placeholder="Email" name="sign-up-email">
                            <label for="">* Email is invalid</label>
                        </div>
                        <div class="input-group">
                            <i style="cursor: pointer;" class="bi bi-eye-fill"></i>
                            <input type="password" placeholder="Password" name="sign-up-pass">
                            <label for="">*Password must be at least 8 characters</label>
                        </div>
                        <div class="input-group">
                            <i style="cursor: pointer;" class="bi bi-eye-fill"></i>
                            <input type="password" placeholder="Confirm password" name="sign-up-2nspass">
                            <label for="">*Password not mached!</label>
                        </div>
                        <button>
                            Sign up
                        </button>
                        <p>
                            <span>
                                Already have an account?
                            </span>
                            <b onclick="toggle()" class="pointer">
                                Sign in here
                            </b>
                        </p>
                    </form>
                </div>

            </div>
            <!-- END SIGN UP -->
            <!-- SIGN IN -->
            <div class="col align-items-center flex-col sign-in">
                <div class="form-wrapper align-items-center">
                    <form onsubmit="mySignInForm(event)" action="reg.php" class="form sign-in" name="sign-in">
                        <div class="input-group">
                            <i class="bi bi-envelope"></i>
                            <input type="email" placeholder="Email" name="sign-in-email">
                            <label for="">* Email is invalid</label>
                        </div>
                        <div class="input-group">
                            <i class='bx bxs-lock-alt'></i>
                            <i style="cursor: pointer;" class="bi bi-eye-fill"></i>
                            <input type="text" placeholder="Password" name="sign-in-pass" class="sign-in-pass">
                            <label for="">*Password must be at least 8 characters</label>
                        </div>
                        <button>
                            Sign in
                        </button>
                        <!-- <p>
                            <b>
                                Forgot password?
                            </b>
                        </p> -->
                        <p>
                            <span>
                                Don't have an account?
                            </span>
                            <b onclick="toggle()" class="pointer">
                                Sign up here
                            </b>
                        </p>
                    </form>
                </div>
                <div class="form-wrapper">

                </div>
            </div>
            <!-- END SIGN IN -->
        </div>
        <!-- END FORM SECTION -->
        <!-- CONTENT SECTION -->
        <div class="row content-row">
            <!-- SIGN IN CONTENT -->
            <div class="col align-items-center flex-col">
                <div class="text sign-in">
                    <h2>
                        Welcome
                    </h2>

                </div>
                <div class="img sign-in">

                </div>
            </div>
            <!-- END SIGN IN CONTENT -->
            <!-- SIGN UP CONTENT -->
            <div class="col align-items-center flex-col">
                <div class="img sign-up">

                </div>
                <div class="text sign-up">
                    <h2>
                        Join with us
                    </h2>

                </div>
            </div>
            <!-- END SIGN UP CONTENT -->
        </div>
        <!-- END CONTENT SECTION -->
    </div>
</body>
<!-- <script src="assets/js/master.js"></script> -->
<script>
    let container = document.getElementById('container')

toggle = () => {
	container.classList.toggle('sign-in')
	container.classList.toggle('sign-up')
}

setTimeout(() => {
	container.classList.add('sign-in')
}, 200)

// let flag = 0

function mySignInForm(e) {

	let flag = 0

	let labels = document.querySelectorAll('label')
	labels.forEach((val) => {
		val.style.display = 'none'
	})

	let _signinEmail = document.forms['sign-in']['sign-in-email'].value
	let _signinPass = document.forms['sign-in']['sign-in-pass'].value


	if (
		_signinEmail == null ||
		_signinEmail == '' ||
		(_signinEmail.search(/script/)) > 0 ||
		(_signinEmail.search(/<script/)) > 0
	) {
		document.forms['sign-in']['sign-in-email'].nextElementSibling.style.display = 'flex'
		flag++
	}
	else {
		// continue...
		let temp = _signinEmail.match(/@/g)
		if (
			(temp == null) ||
			(_signinEmail.search(/@/)) <= 2 ||
			_signinEmail.length < 10 ||
			(_signinEmail.search(/[~!)#$%^&(*/]/)) > 0 ||
			(_signinEmail.search(/\s+/)) > 0
		) {
			document.forms['sign-in']['sign-in-email'].nextElementSibling.style.display = 'flex'
			flag++
		}
	}
	if (
		_signinPass == null ||
		_signinPass == '' ||
		(_signinPass.search(/script/)) > 0 ||
		(_signinPass.search(/<script/)) > 0
	) {
		document.forms['sign-in']['sign-in-pass'].nextElementSibling.style.display = 'flex'
		flag++
	}

	if (_signinPass.search(/[a-z]/) == -1 ||
		_signinPass.search(/[A-Z]/) == -1 ||
		_signinPass.search(/[0-9]/) == -1 ||
		_signinPass.search(/[!@#$%^&*()_+~]/) == -1
	) {
		document.forms['sign-in']['sign-in-pass'].nextElementSibling.style.display = 'flex'
		flag++
	}
	if (flag > 0) {
		e.preventDefault()
	}
}



// hide or show

let _hideShow = document.querySelectorAll('.bi-eye-fill')
_hideShow.forEach((val) => {
	val.addEventListener('click', () => {

		if (val.nextElementSibling.type == 'password') {
			val.nextElementSibling.type = 'text'
		} else (
			val.nextElementSibling.type = 'password'
		)

	})
})



function mysignupForm(e) {

	let flag = 0

	let _signUpPass = document.forms['sign-up']['sign-up-pass'].value
	let _signUp2nspass = document.forms['sign-up']['sign-up-2nspass'].value
	let _signUpEmail = document.forms['sign-up']['sign-up-email'].value
	let _signUpUsername = document.forms['sign-up']['sign-up-username'].value

	let labels = document.querySelectorAll('label')
	labels.forEach((val) => {
		val.style.display = 'none'
	})

	if (
		_signUpUsername == null ||
		_signUpUsername == '' ||
		(_signUpUsername.search(/script/)) > 0 ||
		(_signUpUsername.search(/<script/)) > 0
	) {
		document.forms['sign-up']['sign-up-username'].nextElementSibling.style.display = 'flex'
		flag++
	}

	if (
		_signUpEmail == null ||
		_signUpEmail == '' ||
		(_signUpEmail.search(/script/)) > 0 ||
		(_signUpEmail.search(/<script/)) > 0
	) {
		document.forms['sign-up']['sign-up-email'].nextElementSibling.style.display = 'flex'
		flag++
	}
	else {
		// continue...
		let temp = _signUpEmail.match(/@/g)
		if (
			(temp == null) ||
			(temp == '') ||
			(_signUpEmail == null) ||
			(_signUpEmail == '') ||
			(_signUpEmail.search(/@/)) <= 2 ||
			_signUpEmail.length < 10 ||
			(_signUpEmail.search(/[~!)#$%^&(*/]/)) > 0 ||
			(_signUpEmail.search(/\s+/)) > 0
		) {
			document.forms['sign-up']['sign-up-email'].nextElementSibling.style.display = 'flex'
			flag++
		}
	}

	if (
		_signUpPass == null ||
		_signUpPass == '' ||
		_signUpPass.search(/[A-Z]/) == -1 ||
		_signUpPass.search(/[a-z]/) == -1 ||
		_signUpPass.search(/[0-9]/) == -1 ||
		_signUpPass.search(/[!@#$%^&*()_+~]/) == -1
	) {
		document.forms['sign-up']['sign-up-pass'].nextElementSibling.style.display = 'flex'
		flag++
	}

	if (_signUpPass != _signUp2nspass) {
		document.forms['sign-up']['sign-up-2nspass'].nextElementSibling.style.display = 'flex'
		flag++
	}

	// console.log(flag);

	if (flag > 0) {
		e.preventDefault()
	}
}
</script>
</html>